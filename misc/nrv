Release 9.1.3 (June 11)
960610 nrv drudg/point.f
           Remove "*2" from max_pas index
960610 nrv drudg/procs.f
           Remove "*4" from max_pas index, general cleanup
960610 nrv drudg/fdrudg.f
           Move code array initialization to frinit.
960610 nrv drudg/sread.f
           Move code array initialization to frinit.
960610 nrv skdrut/frinit.f
           New. Initialize all code arrays here.

Changes since drudg release 9.1.3 (June 11)
960618 nrv sked/newob.f
           Reinitialize N1 after deleting stations
960618 nrv sked/fsked.f, drudg/fdrudg.f
           change release date to today
960618 nrv sked/frx.f,fmodes.f,frec.f,ftracks.f,fhdpos.f
           Check antenna name, not position name, in catalogs.
960626 nrv sked/snrac.f
           Go through calculations even if IDURST<0 so that low SNRs are 
           reported. IDURST may be < 0 if it is a small value and CORSYNC
           is subtracted from it.
960627 nrv drudg/vlbat.f, wrhead.f
           Wrong index was used writing sideband for VLBA header.
960628 nrv sked/ffreq.f, frsel.f, sefr.f, dspfr.f getmo.f, frcat.f
           Changes to display a second page of frequency sequences when the
           first page is longer than about 20 lines.

Changes since drudg release 9.1.4 (July 3)
960708 nrv sked/stsel.f
           Add a warning to re-select frequencies if any of the stations
           have changed.  Do not initialize maxpas before selecting
           stations because this is a frequency-code related item.
960709 nrv skdrut/frinp.f
           Initialize ifan to 0 instead of 1. This caused the fanout to 
           appear as "1:1" even for Mark III modes, whereas a 0 would
           have suppressed the fanout.
960709 nrv drudg/procs.f
           Use "samprate" instead of "vcband*2", and get barrel roll
           from the schedule instead of the sked parameters.
960709 nrv drudg/vlbah.f
           Fix correct number of entries in "synth=" command. 
960709 nrv skdrut/unpbar.f
           New. Unpacks "B" lines with barrel roll info.
960709 nrv skdrut/frinp.f
           Add call to unpbar and storing barrel roll. Fix logic for
           sample rate.
960709 nrv sked/skcom.ftni, skdrincl/freqs.ftni
           Add catalog barrel roll and selected sample rate, remove
           barrel roll and move to freqs.ftni.
960709 nrv sked/frcat.f
           Save current sample rate and barrel roll.
960709 nrv sked/frlis.f, printfr.f
           Print barrel roll in frequency listing.
960715 nrv sked/wrfrs.f
           Add call to wrrblines.
960715 nrv sked/wrrblines.f
           New. Writes "R" lines for rate and "B" lines for barrel.
960715 nrv skdrut/speed.f
           If fan-out is 0, i.e. none, don't divide by zero.
960716 nrv sked/sumcm.f
           Add average baseline components in summary listing.
960716 nrv sked/fsked.f
           New release date.
960723 nrv sked/sumcm.f
           Corrected the calculation of number of tapes used per station.
           Print out average scans/hour with one decimal point.
960814 nrv drudg/blabl.f
           Comment out debug line that was left in and could cause abort.
960810 nrv drudg/fdrudg.f
           Change ITEARL to an array by station. Add S2 option for
           procedure output. New date 960901.
960810 nrv drudg/isecdef.f
           New. Differences two time fields, returns seconds.
960819 nrv drudg/knewt.f
           Change final check for previous pass to .LT. 0 because 0 is
           a valid pass number for S2.
960810 nrv drudg/label.f
           Change ITEARL to an array by station.
960810 nrv drudg/lists.f
           Change ITEARL to an array by station.
960819 nrv drudg/lstsum.f
           Change ITEARL to itearl_local. Allow non-numeric speed in
           ST command. Determine S2 recorder by presence of DATA_VALID
           command in SNAP file. Write an output line when a new SOURCE
           command is encountered. Keep track of S2 running time and
           print it instead of feet.
960810 nrv drudg/point.f
           Change ITEARL to an array by station.
960819 nrv drudg/snap.f
           Change ITEARL to an array by station. Add S2 output commands.
           Issue ET only when needed for S2. If "continuous", no ET.
           Re-arrange comments to clean up appearance.
960810 nrv drudg/vlbat.f
           Change ITEARL to an array by station.
960814 nrv drudg/labsnp.f
           Change SNAP commands to upper case before processing.
960810 nrv drudg/sread.f
           Initialize tape_motion_type.
960817 nrv skdrut/gnpas.f
           Skip track checks for S2.
960817 nrv skdrut/vunps2g.f
           New. Read S2 group_order statement.
960817 nrv skdrut/vunps2m.f
           New. Read S2 record mode statement.
960817 nrv skdrut/vmoinp.f
           Add S2 record mode routine. Add S2 group_order routine.
960817 nrv skdrut/vob1inp.f
           start_pos is in seconds for S2. 
960817 nrv skdrut/newscan.f
           Make S2 direction always forward, take pass number directly
           from group order array. Put in start_pos as footage.
960810 nrv skdrut/vstinp.f
           Add tape motion to VUNPDAS call. Store LSTREC.
           Add tape speed and number of tapes to VUNPDAS for S2.
960810 nrv skdrut/vunpdas.f
           Read tape motion type statement and return it.
960820 nrv drudg/label.f
           Don't try to use SPEED in a calculation for S2.
960904 nrv drudg/procs.f 
           Modify LOADER procedures. Change S2_RECORD_MODE to REC_MODE.
960911 nrv drudg/procs.f
           Change EJECT to REC=EJECT, add group to rec_mode in UNLOADER.
960912 nrv drudg/procs.f, snap.f
           Changes per Ed's memo about S2 SNAP and procedures.
960912 nrv drudg/fdrudg.f
           If rack and recorder type are known from the VEX file,
           show only a single "make proceduress" option in menu.
960912 nrv drudg/procs.f
           Handle "no rack" case by checking rack and/or recorder type
           before writing any command.
960913 nrv drudg/snap.f
           Add TAPE command before S2's ST commands.
960920 nrv drudg/lstsum.f
           Re-arrange logic to print a line when a new source appears.
           Then write output line at end of file also.
960920 nrv drudg/lstsumo.f
           New. Output a line.
960923 nrv drudg/spdstr.f
           Add 320 ips as a legal speed.
960923 nrv drudg/snap.f
           Use !+5s after ET for record speeds greater than 200 ips.
961003 nrv skdrut/vmoinp.f
           Keep getting mode defs even if there are too many.
961020 nrv skdrut/cablw.f
           Add special logic for Noto slewing through south
961020 nrv skdrut/frinp.f
           Set the BBC sideband to "U" for non-Vex file
961020 nrv skdrut/vunproll.f
           New. Reads the $ROLL section.
961020 nrv skdrut/vunpdas.f
           If MARK is found, change it to Mark.
961022 nrv drudg/procs.f, fdrudg.f
           Add "Mark IV" option for procedures from non-Vex file.
961022 nrv skdrut/vmoinp.f
           Change MARK to Mark when checking types of rack/rec.
961023 nrv drudg/sread.f
           Decoding of TAPE parameter time was incorrect resulting in too many
           CHECK procedures if the MAXCHK option for the SNAP output was chosen.
960124 nrv drudg/procs.f
           No FORM=RESET for Mk4 racks. Fix up the track numbers in the
           REPRO command. Add a mode subpass index on Mk4 FORM command.
961031 nrv drudg/fdrudg.f
           Change option 3 to be for a Mk3/4 rack and add option 31 for
           a VLBA rack.
961031 nrv drudg/snap.f
           Add to calling sequence to indicate user's input type of rack.
           Modify the bit density and recording format to force it to
           "M" for Mk3/4 rack, leave alone for VLBA types and for VEX
           file.
961031 nrv skdrut/speed.f
           Check for the recording format in LMFMT instead of LMODE.
961031 nrv skdrut/vmoinp.f
           Store the recording format in LMFMT as well as in LMODE.
961031 nrv skdrut/frinp.f
           Store the recording format in LMFMT as well as in LMODE.
961031 nrv drudg/procs.f, snap.f
           Force LMFMT to "M" for Mk4 formatters. This will get the speed right.
961031 nrv skdrut/vmoinp.f
           If there are no chan_def's for a station, don't try to get
           or store the other information.
961031 nrv drudg/vlbah.f, wrhead.f
           Upper/lower sideband modes did not have the right number of channels,
           and the third synthesizer was not recognized for unswitched modes.
961101 nrv drudg/procs.f
           Use channel indirect index for PATCH command, and BBC numbers.
961101 nrv drudg/vlbah.f
           New set of pcalx commands from C. Walker for upper/lower sideband.
961101 nrv drudg/ckobs.f
           Codes undefined for this station are invalid.
961101 nrv drudg/procs.f           
           Don't make procedures for modes undefined at this station.
961101 nrv drudg/vlbah.f
           New set of pcalx commands from Craig.
961101 nrv drudg/wrtrack.f
           Don't write an extra NEXT after 8 channels if there are more to come.
961105 nrv drudg/lstsum.f
           Check for READY instead of UNLOD so final scan is printed right.
961105 nrv drudg/lists.f
           Add a space to bandwidth to print values > 10.
961105 nrv drudg/procs.f
           Put commas in LO command for LOs not defined for this mode.
           Don't print fan if it's 1 unless there is a roll.
961112 nrv skdrut/gnpas.f
           Set MAXPAS to the value for the first code for this station,
           not the first code overall.
961115 nrv skdrut/gnpas.f
           For schedules with only 1 pass, IC1 was never set!
961129 NRV drudg/fdrudg.f
           Add option 16 for 8-BBC stations
961129 NRV drudg/procs.f
           Handle 8-BBC station option.
           Change Mk3 IF names to VLBA IF names for VLBA procedures:
             1N --> A, 1A --> B, 2N --> C, 2A --> D
           Write out procedure names across a line instead of down.
961202 NRV drudg/procs.f
           Write TRKFORM procedures for 8-BBC case also.
           No special handling for 8-BBC case for modes A or C.
           Use "mx" groups for tracks instead of listing them all.
           Edit trackform section to use indices instead of max_chan.
961203 NRV drudg/procs.f
           disable the IF translation from Mk3 to VLBA names.

FS version 9.3.3 released 961203

970108 NRV drudg/spdstr.f
           Add 66.66 and 40 ips speeds.

970108 NRV skdrut/vmoinp.f
           skdrut/vob1inp.f
           skdrincl/freqs.ftni
           Add the frequency code index to the pass order list.

970102 nrv skdrut/slewt.f
           change variable RME to single precision for AMAX1 (Simone Magri)

970103 nrv drudg/spdstr.f
           Add 40 speed

970108 nrv drudg/procs.f
           For Mk4 rack, if VCbw=1 or 0.25, set to "0" for external.

970110 nrv skdrut/vmoinp.f
           Save the pass order list by code number.

970113 nrv drudg/procs.f
           Add !+10s in S2 LOADER procedure.

970113 nrv drudg/procs.f
           No FORM= command at all for S2, nor !*.

970113 nrv drudg/procs.f
           Automatically reverse LSB<-->USB in TRACKFORM command for LSB.

970113 nrv drudg/procs.f
           Allow first-8 BBCs or last-8 BBCs for mode A.

970114 nrv skdrut/vunpso.f
           Change 4 to max_sorlen/2

970114 nrv skdrincl/freqs.ftni
           Add LPREFIX.

970114 nrv skdrincl/skparm.ftni
           Add MAX_SORLEN, length of source names.

970114 nrv skdrincl/sourc.ftni
           Change dimension of LSORNA to use MAX_SORLEN

970114 nrv drudg/ckobs.f
           Change 4 to max_sorlen/2

970114 nrv drudg/snap.f
           Change 8 to max_sorlen

970114 nrv drudg/fdrudg.f
           Change 8 to max_sorlen

970114 nrv drudg/lists.f
           Change lsname(4) to (max_sorlen/4). Print only first 8 characters.

970114 nrv drudg/point.f
           Write out first 8 char of source name only.

970114 nrv drudg/sread.f
           Pass CBUF to VREAD so it can check the VEX version

970114 nrv drudg/sread.f
           Remove the call to VGLINP (put it into VREAD). Write out 
           experiment info at start.

970114 nrv drudg/unpsk.f
           Change 8 to max_sorlen

970114 nrv drudg/vlbat.f
           Change 8 to max_sorlen. Still need to check out the formatting.

970114 nrv skdrut/cablw.f
           Change amin0,amax0 to amin1,amax1 (found by Simone Magri, ATNF)

970114 nrv skdrut/findscan.f
           Chane 8 to max_sorlen

970114 nrv skdrut/flinp.f
           Change dimension of lname to max_sorlen

970114 nrv skdrut/igtso.f
           Change 4 to max_sorlen/2

970114 nrv skdrut/ivgtso.f
           Change 4 to max_sorlen/2

970114 nrv skdrut/newscan.f
           change 8 to max_sorlen

970114 nrv skdrut/unpfl.f
           Change 4 to max_sorlen/2

970114 nrv skdrut/soinp.f
           Change 4 to max_sorlen/2

970114 nrv skdrut/unpso.f
           Change 4 and 8 to max_sorlen/2 and max_sorlen

970114 nrv skdrut/vmoinp.f
           Call VUNPPRC to read $PROCEDURES. Store prefix. 

970114 nrv skdrut/vmoinp.f
           Add polarization to VUNPIF call. Save LPOL per channel.

970114 nrv skdrut/vread.f
           Stop if the supported VEX version is not found.

970114 nrv skdrut/vread.f
           Add a call to VGLINP

970114 nrv skdrut/vsoinp.f
           Change 8 to max_sorlen

970114 nrv skdrut/vunpdas.f
           Add "_type" to rack and recorder Vex names.

970114 nrv skdrut/vunpfrq.f
           Remove polarization, shift up all subsequent field numbers.

970114 nrv skdrut/vunpif.f
           For Vex 1.5 get IF name from def directly instead of ref name, 

970114 nrv skdrut/vunpprc.f
           New. Unpack procedure prefix name.

970115 nrv skdrut/frinp.f
           Add call to UNPFMT for recording format by station line.

970115 nrv skdrut/unpfmt.f
           New. Unpack data format statement for sked files, telling
           whether station is using DR or NDR.

970116 nrv skdrut/vunpant.f
           Change "ant_motion" to "antenna_motion" for Vex 1.5

970117 nrv drudg/procs.f
           Don't write IF3 commands unless there is an IF3 in the schedule.

970117 nrv drudg/procs.f
           Add patch command for IF3

970117 nrv drudg/cazel.f
           check for argument to ACOS being slightly greater than +/-1.0 
           and set it exactly.

970117 nrv skdrut/frinp.f
           Add IF3O and IF3I to Mk3-4 allowed values.

970117 nrv skdrut/vunps2m.f
           Remove "track_frame_format", irrelevant for S2.

970117 nrv skdrut/unplo.f
           Allow IF3O and IF3I (out and in). "N" still means "I".

970118 nrv drudg/spdstr.f
           Add the rest of the valid speeds.

970121 nrv skdrincl/freqs.ftni
           Add station and code indices to npassl.

970121 nrv skdrut/vmoinp.f
           Save npassl indexed by station and code.

970121 nrv skdrut/vob1inp.f
           Add indices to npassl.

970121 nrv drudg/label.f
           change 4 to max_sorlen/2

970121 nrv drudg/lists.f
           Keep track of number of scans for this station.

970122 nrv drudg/label.f
           Add a variable to the call to indicate what type of label.
           Add a call to make_pslabel. 

970122 nrv drudg/psbar.c
           New. Edited version of PC-SCHED file to make PS bar code labels.

970122 nrv drudg/fdrudg.f
           Add option 61 for PS bar code labels.

970122 nrv drudg/labsnp.f
           Add call to make_pslabel. Add iin to call from LABEL.

970123 nrv drudg/fdrudg.f
           Change descriptions of Option 61. Release date 970123.

970123 nrv drudg/procs.f
           Fix 0.5 --> 0.25 in code for external filters. Remove
           printing a comment about the FS version required.

FS version 9.3.7 released on 970123
======================================================================

970124 nrv drudg/procs.f
           Set KLSBLO initially if RF<LO for ANY channel, then 
           check KLSBLO for EACH channel in TRACKFORM command

970124 nrv skdrut/errmsg.f
           New. Prints error messages for Vex parsing/checking.

970124 nrv skdrut/vread.f
           Add a call to VGLINP, and a call to errormsg

970124 nrv skdrut/v*inp.f
           Add calls to ERRMSG.

970124 nrv skdrut/vunp*.f
           Move initialization to front of routines in case an error
           causes an early return.

970124 nrv skdrut/vglinp.f
           Add iret to call.

970124 nrv skdrut/vmoinp.f, vumps2m.f
           Remove recording format from S2 routine.

970124 nrv drudg/fdrudg.f
           Add calls to ERRMSG. change date to 970124.

970129 nrv drudg/fdrudg.f
           Don't reset NOBS between getting VEX obs for all stations.

970129 nrv drudg/snap.f
           Allow "adaptive" tape motion for non-S2 stations also.

970129 nrv drudg/sread.f
           Read "TAPE_MOTION" and "GAP" from $PARAM.

970129 nrv drudg/fdrudg.f
           Add number of obs to return call from VOB1INP.

970129 nrv skdrut/vob1inp.f
           drudg/fdrudg.f
           Add nobs_stn to call

970131 nrv skdrut/findscan.f
           Don't check using exact columns, but get fields.

970131 nrv drudg/lstsum.f, lstsumo.f
           Put updating of IFEET back in here, after call to LSTSUMO.
           Remove some checks for KS2 and replace with others.
           Add KET to lstsumo call. Change tape start into a string.

970204 nrv drudg/point.f
           Remove all options except VLBA and DSN in prompt.

970204 nrv drudg/snap.f
           Remove the +3 sec in calculating enough time for parity to
           be consistent with sked.

970205 nrv drudg/fdrudg.f
           Print tape_motion_type as information at start.

970206 nrv skdrut/frinit.f, frinp.f, gnpas.f, hdinp.f, unpco.f,
                  vunphp.f, vmoinp.f
           skdrincl/freqs.ftni
           drudg/trkall.f, vlbat.f, point.f, wrtrack.f, vlbah.f,
                 procs.f
           Change itra2 to itras, ihddi2 to ihddi2, ihdpo2 to ihdpos,
           and add headstack index instead

970206 nrv skdrincl/skparm.ftni
           Change parameters to allow 20 codes, 36 subpasses, 1 headstack.

970206 nrv skdrut/vmoinp.f, vunptrk.f
           Change size of arrays sent to VUNPTRK for fandefs from 36 
           to to max_track.

970207 nrv drudg/snap.f
           Remove query about 1950/2000 and put into control file.
           Remove query about forcing parity checks.

970207 nrv skdrut/rdctl.f
           drudg/fdrudg.f
           Add cepoch to call. Add to $MISC section.

970207 nrv drudg/fdrudg.f, snap.f
           Remove all but cr1 from call to SNAP.

970207 nrv drudg/sread.f
           Unpack each scan and check the parity flag

970207 nrv drudg/snap.f
           Write a message about what parity checks will be done.

970207 nrv drudg/fdrudg.f
           Change date to 970207.

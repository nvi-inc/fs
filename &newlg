FTN4,X
      SUBROUTINE NEWLG(IBUF,LSOR  
     .),INITIAL LINE OF LOG FILE C#870115:04:18#
C 
C     NEWLG fills in the buffer with the first line of the log file 
C           and sends this to DDOUT for starting a new log. 
C 
C  MODIFICATIONS: 
C 
C  830914 NRV Added occupation serial # as second buffer
C 
      INCLUDE #FSCOM::FS
C 
C  INPUT: 
C 
      DIMENSION IBUF(1) 
C      - buffer to use, assumed to be at least 50 characters long 
C     LSOR - source of this message 
C 
C  OUTPUT: NONE 
C 
C 
C     The new-log information line: 
C   MARK III FIELD SYSTEM VERSION <version> <station> <year> <occup#> 
C     Send this with option "NL" to LOGIT, i.e. start new log file. 
C 
      CALL IFILL(IBUF,1,60,40B) 
      NCH = ICHMV(IBUF,1,30HMARK III FIELD SYSTEM VERSION ,1,30)
      NCH = NCH + IR2AS(FSVER,IBUF,NCH,3,1) 
      NCH = ICHMV(IBUF,NCH+1,LNAANT,1,8)
      NCH = NCH+1 
      NCH = NCH+ IB2AS(IYEAR,IBUF,NCH,4)  
      NCH = ICHMV(IBUF,NCH+1,LOCCUP,1,8)-1
      CALL LOGIT(IBUF,NCH,LSOR,0,2HNL)
C 
C     Now fill another buffer with occupation info: 
C             <station name> <occup.#>
C     Send this as a normal message (i.e. NOT a new log)
C 
C     CALL IFILL(IBUF,1,50,40B) 
C     NCH = ICHMV(IBUF,1,LNAANT,1,8)
C     NCH = ICHMV(IBUF,NCH+1,LOCCUP,1,8)
C     CALL LOGIT(IBUF,NCH,LSOR) 
C 
      RETURN
      END 

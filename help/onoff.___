                    onoff - on-off radiometry
 
              Syntax:      onoff=rep,intp,cutoff,stp,wait,devices
 
              Response:    onoff/rep,intp,cutoff,stp,wait,ssize,mfwhm
                           onoff/device,if,pol,fwhm,center,flux,dpfu,gain,product
 
 
 Settable parameters:
            rep        Number of repetitions, 1 to 99. Default is 2. 
            intp       Integration period, 1 to 10 seconds. Default is 1. 
            cutoff     Elevation above which to step in elevation rather
            than azimuth, in degrees, default 75.
            stp        Distance off source for off source and calibration
            points, in multiples of a beamwidth. Default is 3.0.
            wait       seconds to wait for onsource for each point,
            1-1200 seconds allowed, default 120.
            devices    One or more of all standard device mnemonics, plus for
                       Mark III/IV "allvc" and "all", plus for VLBA/4
                       "allbbc", "allu", and "alll". Note u5 and u6 not
                       supported

 Monitor-only parameters:
            ssize      source size in degrees
            mfwhm      maximum fwhm
            device     device mnemoic
            if         if chain for device
            pol        polarization for device
            fwhm       fwhm for device
            center     center frequency for device
            flux       flux for device
            dpfu       DPFU for device
            gain       gain curve (dimensionless) for device
            product    DPFU*gain
 Comments: 
 This version works only with Mark III/IV or VLBA/4 devices, i.e.,
 user defined devices are not supported

 The parameters should be setup by issuing a onoff=...  command.
 A measurement is started by issuing a simple onoff. This will
 recover the current values for the display only parameters and
 schedule an external program onoff. See the onoff manual in
 Volume 2.
 
 The current command antenna position including offsets is
 assumed to be 'onsource.'
 
 It is recommended that nothing else be done, e.g. running a
 schedule, while this command is executing. Since this command
 may run for an extended period of time, a mechanism has been
 supplied for aborting: enter sy=brk onoff & as a SNAP command.
 After aborting, the offsets will be returned to their original
 values.
 
 In order for this command to work, the following conditions
 must be met: (1) the detector devices have been set up by the
 Field System, (2) the appropriate lo=  commands have been
 issued, (3) the IF distributors have been set up by the Field
 System and it must be in remote (Mark III only), and (4) the
 appropriate beamx=  commands have been issued. Additionally,
 for a Mark III/IV rack, if  a video converter is used as a
 detector, the appropriate patch=  command must have been
 issued. For a VLBA/4 rack with a BBC as a detector, the
 appropriate BBC IF input must be selected with a bbcXX= 
 command. If system performance is to be estimated based on the
 source's apparent flux, then the appropriate fluxx=  command
 must have been issued.
 
 If a  noise diode temperature is less than zero, it is assumed
 that there is no noise diode to use for that detector. All
 measurements for that channel will be made assuming the
 absolute value of the diode temperature is the system
 temperature. Thus if the noise diode temperature is -100, the
 power measurements will come out as a percentage of the system
 temperature.
 
 If either noise diode temperature is greater than zero, then
 two procedures must be available: calonnf and caloffnf, which
 are used to turn the noise diode on and off respectively. The
 recommended form for these procedures is:
 
 CALONNF: calon
          !+1s
          sy=go onoff & 
 
 CALOFFNF:  caloff
          !+1s
          sy=go onoff & 
 
 calon and caloff are local procedures that do whatever is
 necessary to turn the noise source on and off, respectively. 
 
 If station dependent detectors u5 and/or u6 are used, two
 additional procedures must be available to turn the signal on
 and off to the detectors. The recommended form of this
 procedures is:
 
 SIGONNF: sigon
          !+1s 
          sy=go onoff &
 
 SIGOFFNF:  sigoff
          !+1s 
          sy=go onoff &
 
 sigon and sigoff are local procedures that do whatever is
 necessary to turn the signal to the station dependent
 detectors on and off, respectively.
 
 There is a known bug in the use of these procedures: calonnf,
 caloffnf, sigonnf, and sigoffnf,  that may require the last
 two lines to be repeated in each procedure. In other words
 after the first line, each procedure should contain:
 
          !+1s
          sy=go onoff &
          !+1s
          sy=go onoff &
 
 The indication that this is needed is if onoff seems to hang
 after executing one of these procedures. Please see the "Known
 Bugs" section of the latest update notice for more details. 

 The default wait time for of 120 seconds is generous, but can be adjusted
 if necessary. Slower antennas may need a longer time. Shorter times
 are only useful to make fivept give-up sooner if there is a problem
 getting on-source.

             fivept - five or more point source scan

            Syntax:     fivept=axis,rep,pts,stp,intp,dev,wait

            Response:   fivept/axis,rep,pts,stp,intp,dev,cal,wait,beam,flux,chain


Settable parameters:
            axis        Axis system for scan. 
                            hadc = Hour Angle/Declination (default)
                            azel = Azimuth/Elevation
                            xyns = X/Y, +X East
                            xyew = X/Y, +X South  (unimplemented)
          rep       Number of repetitions: -10 to -1 and 1 to 10
          allowed. Default is -2. Negative repetition counts
          are described in the fivpt manual. The absolute
          value implies a maximum repetitions count, but once
          the scans are well s\centered on bth axes,
          additional repetitions will be skipped.
          pts       Number of points on each axis, if even, it is
          increased by 1. pts must be between -31 to -3 or  3
          to 31, inclusive. Default is 7. Negative point
          counts cause the system temperature measurement to
          be skipped. The absolute value is used as the number
          of points.
          stp       Step size for distance between points, in multiples
          of a beamwidth. Default is 0.5. 
            intp        Integration period, 1 to 32 seconds.
          dev       Mnemonic for the device to be used as the detector.
          Standard devices are allowed. Note that for Mark III
          equipment, the whether the video converter USB or
          LSB detector is used is determined by the vc
          command. The module which has the specified detector 
          must have been set up. The IF distributor must be
          set up and, for Mark III, must be in remote. Default
          detector is i1 for Mark III/IV, ia for VLBA/4.
          Station dependent detectors u5 and u6 may be
          available.
            wait        seconds to wait for onsource for each point, 1-1200
            seconds allowed, default 120.

Display-only parameters:
          cal       Calibration noise source temperature in degrees K.
          For standard detectors this is determined from the
          .rxg file cal temperature table interpolated using
          information from the lo command and the vcnn and
          patch (Mark III/IV and LBA4) or bbcnn (VLBA/4)
          command for the specified device. For station
          defined detectors u5 and u6 the value is determine
          from the last caltemp5 and caltemp6 commands,
          respectively.
          beam      The full width half maximum beam size degrees. For
          standard detectors this is determined from the .rxg
          file cal temperature table interpolated using
          information from the lo command and the vcnn and
          patch (Mark III/IV and LBA4) or bbcnn (VLBA/4)
          command for the specified device. For station
          defined detectors u5 and u6 the value is determine
          from the last beam5 and beam6 commands,
          respectively.
             flux       The apparent flux of the source. For standard
            detectors this is determined from the flux.ctl
            file cal using information from the lo command and
            the vcnn and patch (Mark III/IV and LBA4) or bbcnn
            (VLBA/4) command for the specified device. For
            station defined detectors u5 and u6 the value is
            determine from the last flux5 and flux6 commands,
            respectively.
          chain     The IF chain, 1-6, that the detector is on. Chains 5
          and 6 are for station specific detectors u5 and u6.
          Mark III/IV and LBA4 racks use IFs 1-3. For VLBA/4
          racks IFs 1-4 correspond to IFs a-d.
 
Comments: 
The parameters should be setup with a fivept=  command. A
scan is started by issuing a simple fivept command (i.e. with
no parameters), this will determine the current values of the
display only parameters and then schedule an external program,
fivpt, which then uses the Field System to perform the
necessary measurements. See the fivept manual in Volume 2.

The scan is performed about the current commanded position.
Any offsets that are in use are included. If the scan is
successful the total offsets for the selected axis type are
updated.

It is recommended that nothing else be done, e.g. running a
schedule, while this command is executing. Since this command
may run for an extended period of time, a mechanism has been
supplied for aborting: enter sy=brk fivpt & as a SNAP command.
The program will return the antenna to the last good offset
for each axis. If there was no good offset measurement on an
axis, then the original offset is used.

In order for this command to work, the following conditions
must be met: (1) the detector device has been setup by the
Field System, (2) the appropriate lo=  command has been
issued, (3) the IF distributor or IF3 module has been setup by
the Field System and is in remote (Mark III/IV only), (4) the
appropriate beamX=  and caltempX= . must have been issued. If
a Mark III/IV video converter is used as the detector then the
appropriate patch=  command must have been issued as well.
For a VLBA/4 rack with a BBC selected as a detector the
appropriate BBC IF input must be selected with a bbcXX= 
command. If estimates of performance based on the source flux
are desired, then the appropriate fluxX=  command must have
been issued as well.

If the noise diode temperature is less than zero, it is
assumed that there is no noise diode to use. All power
measurements will be made assuming the absolute value of the
diode temperature is the system temperature. Thus if the noise
diode temperature is -100, the power measurements will come
out as a percentage of the system temperature.

If the noise diode temperature is greater than zero, then two
procedures must be available: calonfp and calofffp, which are
used by fivpt to turn the noise diode on and off respectively.
The recommended form for these procedures is:

CALONFP:  calon
          !+1s
          sy=go fivpt &

CALOFFFP: caloff
          !+1s
          sy=go fivpt &

calon and caloff are local procedures that do whatever is
necessary to turn the noise source on and off, respectively.

If station dependent detectors u5 or  u6 are used, then two
procedures must be available: sigonfp and sigofffp, which are
used by fivpt to turn the signal to the station dependent
detectors on and off, respectively. The recommended form for
these procedures is:

SIGONFP:  sigon
          !+1s
          sy=go fivpt &

SIGOFFFP: sigoff
          !+1s
          sy=go fivpt &

sigon and sugoff are local procedures that turn the signal to
the station dependent detectors on and off, respectively.
 
There is a known bug in the use of these procedures: calonfp,
calofffp, sigonfp, and sigofffp,  that may require the last
two lines to be repeated in each procedure. In other words
after the first line each procedure should contain:

          !+1s
          sy=go fivpt &
          !+1s
          sy=go fivpt &

The indication that this is needed is if  fivpt seems to hang
after executing one of these procedures. Please see the "Known
Bugs" section of the latest update notice for more details.

A negative value for the number of pts will disable the initial
system temperature measuement. A nominal conversion factor of
unit and offset of zero is assumed in converting from detector
counts to displayed antenna temperature, i.e., measurements
are reported in detector units with an assumed zero offset.

The default wait time for of 120 seconds is generous, but can
be adjusted if necessary. Slower antennas may need a longer
time. Shorter times  are only useful to make fivpt give-up
sooner if there is a problem getting on-source.

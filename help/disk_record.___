               disk_record - Start/stop Mark 5 recording

            Syntax:     disk_record=on/off,scan,session,source

            Response:   disk_record/status,scan,session,souvce


Settable Parameters:
          on/off    Turn recording on/off, no default
          scan      String of up to 16 characters, default is current
                    scan name
          session   String of up to 16 characters, default is current
                    session name
          source    String of up to 16 characters, default is current
                    source name

Monitor-only parameters:
          status    one of:  on (recording), off (not recording),
                    halted, throttled, overflow, and waiting

Comments:
The defaults for the scan and session name come from scan_name
command. Values for scan, session, and source supplied to disk_record
are sent to the Mark 5, but do not alter the stored values for these
quantities.

The status parameter values of halted, throttled, overflow, and
waiting all indicate errors.

If a recording is stopped "improperly" because of some problem before
the "disk_record=off" command is executed, then all data recorded
since the previous "disk_record=on" may be lost.  In most of these
cases, it is possible to update the record pointer (but not the
directory) on the disk pack to reflect the data that had been
recorded. This will prevent the data from being overwritten by
recordings for following scans and allow the data from the improperly
stopped recording to be correlated. This seems to work well in at
least two cases: (1) the Mark5A program is ended prematurely by crash
or some other problem and (2) the power is lost to the Mark5A unit. It
does not seem work as well in the case where the key switch is turned
off during recording (care should be exercised of course to avoid
this). Regardless of the cause of the "improper" end of recording, the
best recovery mechanism is to execute the following command on the
Mark5A (with the Mark5A program not running):

  Recover -o 0 -m 0 

It is probably not worthwhile to recover short recordings particularly
if doing so would prevent other scans from being recorded. However,
for longer recordings, particularly if several scans have been
recorded "continuously" and a problem prevented a proper
"disk_record=off", recovery may be helpful. Since at this time
directory information is not recovered properly, this won't be helpful
for scans transferred off-line after an experiment with software that
depends on the directory information. In that case, the transfer will
not work, but this will at least preserve the data on disk.

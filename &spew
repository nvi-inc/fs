FTN4,A
C@SPEW
C 
        SUBROUTINE SPEW(ICLAS,IBUFF,LU) 
     .,C#870328:18:46    CLASS TO SCREEN V=1.0# 
C 
C     SPEW
C 
C 1.  NAME PROGRAM SPECIFICATION
C 
C 1.1.   SPEW 
C                DUMP THE CONTENTS OF ICLAS ONTO LU AND DO NOT FREE CLASS 
C 
C 1.2.   RESTRICTIONS - limits on use of routine
C 
C 1.3.   REFERENCES - document cited
C 
C 2.  NAME INTERFACE
C 
C 2.1.   CALLING SEQUENCE: CALL SPEW(ICLAS,IBUFF,LU)
C 
C     INPUT VARIABLES:
C 
C       GLOBAL DEFS REFERENCED: "name'(local name if different)' ...
C 
        DIMENSION IBUFF(1)
C 
C        ICLAS        - CLASS I/O NUMBER CONTAINING MESSAGES
C 
C        IBUFF        - BUFFER TO BE USED TO READ AND WRITE INFO(LENGTH =80 ASUMED) 
C 
C        LU        - TERMINAL ON WHICH INFORMATION IS TO BE DISPLAYED 
C 
C     OUTPUT VARIABLES: 
C 
C       GLOBAL DEFS REFERENCED: "name'(local name if different)' ...
C 
C 2.2.   COMMON BLOCKS USED 
C 
C 2.3.   DATA BASE ACCESSES 
C 
C 2.4.   EXTERNAL INPUT/OUTPUT
C 
C 2.5.   SUBROUTINE INTERFACE:
C 
C     CALLING SUBROUTINES: SUB1, SUB2, ... (not required for utilities) 
C 
C     CALLED SUBROUTINES: SUB1, SUB2, ... (includes segments scheduled) 
C 
C 3.  LOCAL VARIABLES 
C 
C       GLOBAL DEFS REFERENCED: "name'(local name if different)' ...
C 
C 
C       IRGA    - CONTENTS OF A REG WHERE REG WAS RETURNED FROM FUNCTION
C                 CALL TO A ROUTINE 
C 
C       IRGB    - CONTENTS OF B-REG WHERE REG WAS RETURNED FROM FUNCTION
C                 CALL TO A ROUTINE 
C 
        DIMENSION IREG(2) 
C 
C       IREG    - DUMMY REGISTER RETREIVAL AID
C 
        EQUIVALENCE (REG,IREG(1),IRGA),(IREG(2),IRGB) 
C 
C 4.  CONSTANTS USED
C 
C 5.  INITIALIZED VARIABLES 
C 
C 6.  PROGRAMMER: LEE N. FOSTER 
C     LAST MODIFIED:
C# LAST COMPC'ED  870328:18:46urrent date) #
C 
C     PROGRAM STRUCTURE 
C 
C               6.1  INITIALIZE VARIABLES 
C 
10000   CONTINUE
C 
C               CHECK THE MAILBOX ANR READ THE MAIL IF PRESENT
C 
        IF(ICLAS .EQ. 0 .OR. ICLAS .EQ. 102000B)GO TO 99999 
C 
30000   CONTINUE
C 
C               THERE IS A CLASS I/O NUMBER PRESENT READ MAIL IF PRESENT
C 
        REG=EXEC(21,IOR(120000B,ICLAS),IBUFF,-100)
C 
C               IF ANYTHING WRITE AND LOOP FOR MORE 
C 
        IF(IRGA .LT. 0)GO TO 99999
C 
C               GET MAX LENGTH PRINTABLE
C 
        IRGA=MIN0(100,IRGA) 
C 
C               NOW WRITE TO SCREEN 
C 
        CALL EXEC(2,LU,IBUFF,-IRGB) 
C 
C               NOW LOOP FOR NEXT MAIL
C 
        GO TO 30000 
C 
99999   CONTINUE
C 
        RETURN
        END 
        END$

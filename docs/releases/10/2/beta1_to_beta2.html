<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Version 0.75 - August 2023">
<title>FS 10.2-beta1 to FS 10.2-beta2 Update Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>FS 10.2-beta1 to FS 10.2-beta2 Update Notes</h1>
<div class="details">
<span id="author" class="author">Version 0.75 - August 2023</span><br>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_upgrading_from_10_2_beta1">2. Upgrading from 10.2-beta1</a>
<ul class="sectlevel2">
<li><a href="#_fetch_10_2_beta2">2.1. Fetch 10.2-beta2</a></li>
<li><a href="#_login_as_prog">2.2. Login as prog</a></li>
<li><a href="#_make_the_fs">2.3. Make the FS</a></li>
<li><a href="#_make_the_station_software">2.4. Make the station software</a></li>
<li><a href="#_reboot">2.5. Reboot</a></li>
<li><a href="#_login_as_oper">2.6. Login as oper</a></li>
<li><a href="#_optional_steps">2.7. Optional steps</a></li>
</ul>
</li>
<li><a href="#_changes_since_10_2_beta1">3. Changes since 10.2-beta1</a>
<ul class="sectlevel2">
<li><a href="#_fs_changes">3.1. FS changes</a></li>
<li><a href="#_drudg_changes">3.2. drudg changes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document covers the steps needed to update from FS <em>10.2-beta1</em>
to <em>10.2-beta2</em>  and the changes in the new version.  Installing the
new version (see the <a href="#_upgrading_from_10_2_beta1">Upgrading from 10.2-beta1</a> section below)
is simpler than the update to <em>10.2-beta1</em>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Despite the next paragraph, <em>alpha</em> and <em>beta</em> releases are
not intended for operations.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>FS <em>10.2</em> has been tested for a few configurations but not all
possible ones. You should test it carefully before using it for
operations. Please email Ed if you encounter problems so that we can
resolve them.</p>
</div>
<div class="paragraph">
<p>The changes in the FS and <em>drudg</em> for <em>10.2-beta2</em> are covered in the
<a href="#_changes_since_10_2_beta1">Changes since 10.2-beta1</a> section below. The most significant
changes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The display server is now enabled by default.</p>
</li>
<li>
<p>The DBBC3 support was improved. The most significant changes are in
T<sub>sys</sub> filtering, handling multicast time-outs, and the T<sub>sys</sub> monitor
display, <em>monit7</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrading_from_10_2_beta1">2. Upgrading from 10.2-beta1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must have already upgraded to <em>10.2-beta1</em> according to the
<a href="10.2-beta1.html">FS 10.2-beta1 Update Notes</a> document before
installing this update.</p>
</div>
<div class="sect2">
<h3 id="_fetch_10_2_beta2">2.1. Fetch 10.2-beta2</h3>
<div class="paragraph">
<p>There are two alternatives:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you are using FSL9, FSL10, FSL11, or another system that supports
connections to <em>github</em> and you are using <em>git</em> (as is recommended)
then as <em>prog</em> execute:</p>
<div class="literalblock">
<div class="content">
<pre>cd /usr2/fs-git
git fetch
git checkout -q 10.2.0-beta2</pre>
</div>
</div>
</li>
<li>
<p>If you are using FSL8 or are otherwise unable, or prefer not, to use
<em>git</em> (you will probably need to be <em>root</em>):</p>
<div class="paragraph">
<p>Refer to the
<a href="../../misc/release_model.html#_installing_from_an_archive">Installing
from an archive</a> subsection in the
<a href="../../misc/release_model.html">Release Model</a> document. Follow the
steps there, through the one that includes the option to set the
<em>/usr2/fs</em> link. Please note that:</p>
</div>
<div class="ulist disc">
<ul class="disc">
<li>
<p>For FSL8, or if you are otherwise unable to connect to <em>github</em>, you
will need the <strong>TIP</strong> in the <code><strong>wget</strong></code> step.</p>
</li>
<li>
<p>For the <em>tag</em> use <code>10.2.0-beta2</code>.</p>
</li>
<li>
<p>You will end using the &#8220;installing from an archive&#8221; procedure with
the step setting the link for <em>/usr2/fs</em> by running <strong><code>make
install</code></strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_login_as_prog">2.2. Login as prog</h3>
<div class="paragraph">
<p>If you are not already logged-in as <em>prog</em>, do that. This is necessary
for the remaining steps until <a href="#_reboot">Reboot</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_make_the_fs">2.3. Make the FS</h3>
<div class="paragraph">
<p>As <em>prog</em>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd /usr2/fs
make clean rmdoto rmexe all &gt;&amp; /dev/null
make -s</pre>
</div>
</div>
<div class="paragraph">
<p>No output from the last command indicates a successful <em>make</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_make_the_station_software">2.4. Make the station software</h3>
<div class="paragraph">
<p>The layout of some variables in shared memory has changed. Even if
you have not updated your station code, you should re-<em>make</em> your
station code to be safe. If <em>/usr2/st/Makefile</em> is set-up in the
standard way, you can do this with (as <em>prog</em>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd /usr2/st
make rmdoto rmexe all</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reboot">2.5. Reboot</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
This will make sure shared memory is reallocated.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_login_as_oper">2.6. Login as oper</h3>
<div class="paragraph">
<p>The remaining steps are to be performed by <em>oper</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_optional_steps">2.7. Optional steps</h3>
<div class="paragraph">
<p>The steps in this section are optional, but you may find them useful.
All are to be performed by <em>oper</em>, except as noted. For each item,
click the &#8220;Details&#8221; toggle for the full instructions.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you can&#8217;t use the display server, or prefer not to, disable it.</p>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="paragraph">
<p>Using the display server is now enabled by default and recommended for
all users. However, if you can&#8217;t use it (perhaps because it won&#8217;t
compile), or you prefer not to, you can disable it by setting the
environment variable <code>FS_DISPLAY_SERVER</code> to <code>off</code>. Any other value,
including <code>on</code>, or the variable not being set at all, will enable it.
The steps are:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you are unable to compile the display server or have other
problems with it, please contact Ed. We will try to resolve them.
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the environment variable.</p>
<div class="paragraph">
<p>There are two options, depending on what login shell you use:</p>
</div>
<div class="ulist disc">
<ul class="disc">
<li>
<p>If you use <em>bash</em>, add the following command to <em>~/.profile</em>:</p>
<div class="literalblock">
<div class="content">
<pre>export FS_DISPLAY_SERVER=off</pre>
</div>
</div>
</li>
<li>
<p>If you use <em>tcsh</em>, add the following command to <em>~/.login</em>:</p>
<div class="literalblock">
<div class="content">
<pre>setenv FS_DISPLAY_SERVER off</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Logout and back in.</p>
</li>
<li>
<p>Update any other accounts that use the FS, usually just <em>prog</em>.</p>
</li>
</ol>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
This variable should be set the same, or not set, for all
accounts/sessions that use <em>fs</em>, <em>fsclient</em>, or <em>streamlog</em>. There may
be problems if there is a mismatch.
</td>
</tr>
</table>
</div>
</div>
</details>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changes_since_10_2_beta1">3. Changes since 10.2-beta1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are separate subsections with summaries of the changes in the FS
and <em>drudg</em>.</p>
</div>
<div class="paragraph">
<p>Clickable links such as <a href="https://github.com/nvi-inc/fs/issues/36">#36</a>
connect to specific issues reported at
<a href="https://github.com/nvi-inc/fs/issues" class="bare">https://github.com/nvi-inc/fs/issues</a>.</p>
</div>
<div class="paragraph">
<p>A complete history of changes can be found using the <code>git log</code> command
from within the FS <em>git</em> archive directory, usually <em>/usr2/fs-git</em>.</p>
</div>
<div class="paragraph">
<p>Each change is listed as a numbered title, usually with a few summary
sentences, followed by a &#8220;Details&#8221; <em>toggle</em>, like:</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="paragraph">
<p>Details are shown here.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>that can be clicked on to toggle showing (or not showing) the details.
In this way, you can view the summary as a list and only reveal the
details of items that interest you. The summary sentences and/or the
details toggle may be omitted if they would not add any new
information, usually because it is already covered in the numbered
title item, summary, and/or the details are very brief.</p>
</div>
<div class="sect2">
<h3 id="_fs_changes">3.1. FS changes</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Improve display server usage.</p>
<div class="paragraph">
<p>The display server is now enabled by default. The environment variable
<code>FS_DISPLAY_SERVER_CONFIRM_TERMINATE</code> was added. Some command line
options of <em>fs</em> and <em>fsclient</em> are out-of-date.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make the display server enabled by default.</p>
<div class="paragraph">
<p>Unless the environment variable <code>FS_DISPLAY_SERVER</code> is explicitly set
to <code>off</code>, the display server will be used. This should be backward
compatible with existing usage of the variable which was to only use
the display server if the variable was set to <code>on</code>. Now if you don&#8217;t
want the display server, the variable will have to be explicitly set
to <code>off</code>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
This variable should be set the same, or not set, for all
accounts/sessions that use <em>fs</em>, <em>fsclient</em>, or <em>streamlog</em>, usually
just <em>oper</em> and <em>prog</em>. There may be problems if there is a mismatch.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add environment variable <code>FS_DISPLAY_SERVER_CONFIRM_TERMINATE</code>.</p>
<div class="paragraph">
<p>The terminate confirmation prompt is included in <em>oprin</em> as a safety
mechanism to reduce the chances that the FS will be terminated while
another user (client) is using the FS. Although it not recommended, if
you don&#8217;t want this prompt, you can set the variable to <code>off</code>. For all
other values, including it not being set, the prompt will be used.
The setting of this variable in the session that started the client,
with either the <em>fs</em> or <em>fsclient</em>, determines the behavior of <em>oprin</em>
for that client.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
For simplicity, it is recommended that this variable be set the
same for all accounts/sessions that use <em>fs</em> or <em>fsclient</em>, usually
just <em>oper</em> and <em>prog</em>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add wait to FS start-up if it is a rapid restart when the display
server is in use.</p>
<div class="paragraph">
<p>The change in <em>10.2-beta1</em> to stop the FS server when the FS is
terminated resulted in a problem when the FS was restarted quickly
after being stopped. The restart could fail with the error message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>fsclient.c:436 (fetch_state) error unable to connect to server: Connection refused</pre>
</div>
</div>
<div class="paragraph">
<p>Apparently, it takes the server a couple seconds to shutdown
completely so it can be restarted. To avoid this error, a wait of up
to two seconds since the previous FS exit is used. If a wait is
needed, a message about its length is printed before the wait. After
the wait, the FS starts up normally. An interval of two seconds was
tested under a variety of conditions and found to be reliable, while
not excessive. In case it is not sufficient for some cases, the error
message above was augmented with an explanation and a suggestion to
try again.</p>
</div>
</li>
<li>
<p>Some command line options of <em>fs</em> and <em>fsclient</em> are out-of-date.</p>
<div class="paragraph">
<p>Usage of the server has evolved since its initial implementation,
making some of the original command line options out-of-date. In
particular, <code>-f</code>, <code>-b</code> and <code>-w</code> may need to be adjusted or eliminated.
This will be handled in a later update. In the meantime, not setting
<code>FS_DISPLAY_SERVER</code>, or setting it to <code>off</code>, should be sufficient for
running with, or without, the server.</p>
</div>
</li>
</ol>
</div>
</div>
</details>
</li>
<li>
<p>Improve DBBC3 support.</p>
<div class="paragraph">
<p>Several changes were made, particularly to T<sub>sys</sub> filtering, multicast
time-out handling, and the T<sub>sys</sub> monitor display (<em>monit7</em>). Also for
terminology, <em>legacy</em> calibration replaced <em>spot</em> calibration.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The terminology <em>spot</em> calibration was replaced by <em>legacy</em>
calibration.</p>
<div class="paragraph">
<p><em>Legacy</em> calibration refers to explicitly turning the noise diode on
and off to make calibration measurements. This contrasts to
<em>continuous</em> calibration, which alternates the diode on and off
automatically, usually at 80 Hz.</p>
</div>
<div class="paragraph">
<p>The use of <em>spot</em>, while appealing, seemed more cumbersome than
<em>legacy</em>, which has an historical precedent.</p>
</div>
</li>
<li>
<p>Add using <code>tpicd=reset</code> to reset the averages for T<sub>sys</sub> data,</p>
<div class="paragraph">
<p>While just using <code>tpicd</code> to reset the averages will always work, it
can also have the side-effect of prematurely starting continuous
logging (<code>tpicd=yes,&#8230;&#8203;</code>) when that is configured. Using <code>tpicd=reset</code>
avoids this and is recommended for manually restarting the averages.
It can be placed in a SNAP procedure, maybe <code>reset</code>, to minimize
typing.</p>
</div>
</li>
<li>
<p>Force the polarity to <code>0</code> for legacy T<sub>sys</sub>.</p>
<div class="paragraph">
<p>When legacy calibration is used (<code>cont_cal=off,&#8230;&#8203;</code>), a polarity of
<code>0</code> is always sent to the DBBC3, regardless of what was requested
(even not sending anything). A warning is issued if this overrides the
request. This is necessary to place the TPI data in the correct
position in DBBC3 command responses and the multicast data.</p>
</div>
</li>
<li>
<p>Switch to adaptive multicast time-out detection</p>
<div class="paragraph">
<p>Previously the time-out interval was a fixed 125 centiseconds (CS).
Now it is 145 CS if the previous read did not time-out. If it did, the
interval is adjusted to 100 CS until the next received packet. On the
assumption that multicast transmissions are only delayed 25 CS or
less, it allows a generous margin for delayed messages while still
detecting missing packets. The interval must be less than 150 CS to
avoid possibly missing a time-out after a delayed packet that didn&#8217;t
time-out.</p>
</div>
<div class="paragraph">
<p>The previous, fixed, interval of 125 CS was too small given the
observed variation in the packet arrival times. It should have been
increased to something a little less than 150 CS. However, even that
longer fixed interval would not detect the third of three missing
packets in a row. The new scheme should detect all missing packets, as
well as collect all the available messages.</p>
</div>
</li>
<li>
<p>Change multicast time-out error reports to use a summary format</p>
<div class="paragraph">
<p>The first occurrence of a time-out is reported. Then a count of the
time-outs in the next 60 read attempts is kept. The number is reported
(the initial time-out is <em>not</em> included in this count). This continues
until there are 60 attempts with no time-outs. That is reported and
then keeping a count ends until the next time-out.</p>
</div>
<div class="paragraph">
<p>This approach was adopted because in some cases, time-outs come in
bursts. It does not increase the number of messages if there is an
isolated time-out. It does reduce, but not eliminate, the messages
when the firmware is being reloaded and other cases of persistent or
repetitive time-outs. If multicast data is being logged with a 100
centisecond interval, it is possible to reconstruct which messages
were lost.</p>
</div>
</li>
<li>
<p>Add error message for Core3H boards having different times in the
multicast data.</p>
<div class="paragraph">
<p>If all the boards don&#8217;t have the same time, this is reported every 20
seconds until it is fixed.</p>
</div>
</li>
<li>
<p>Add auto-reset feature to DBBC3 continuous T<sub>sys</sub> filtering</p>
<div class="paragraph">
<p>When filtering is in use, if the clipping reaches the <em>red</em> zone
(clipped six times or more) for a detector, and the long-term average
for the detector differs by more than the filtering percentage from
the average of the last <code><em>samples</em></code> samples (set by the
<code>cont_cal=on,&#8230;&#8203;</code> command), the long-term average is reset to the more
current average and shown with a blue background.</p>
</div>
<div class="paragraph">
<p>A separate <em>shadow</em> average is maintained for this. It is
reinitialized every <code><em>samples</em></code> samples so that it is only dependent
on the most recent data. Thus if the long-term average in use is
significantly skewed by older data with either RFI or from a different
elevation, a more up-to-date value will be substituted. The device
must be in the red clipping zone on the sample that completes the
shadow average for a reset to occur. The auto-reset feature should
reduce the need to reset manually with <code>tpicd=reset</code>.</p>
</div>
<div class="paragraph">
<p>For the next cycle after the auto-reset, the displayed value may
clipped, or unclipped, depending on how far the new sample is from the
new long-term average.</p>
</div>
</li>
<li>
<p>Log negative continuous T<sub>sys</sub> values</p>
<div class="paragraph">
<p>Negative T<sub>sys</sub> values occur with continuous calibration data if the
polarity is incorrect. The polarity should be fixed, but the values
are logged in case they are useful until the situation is rectified.
They only difference from the correct values is the sign.</p>
</div>
</li>
<li>
<p>Improve <em>monit7</em>:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Replace the unused VDIF <code>Epoch</code> field with multicast centiseconds
<code>Arrival</code> time.</p>
<div class="paragraph">
<p>The former was expected to become available in the multicast data, but
had not yet been added. Instead the centiseconds, the 0.01 seconds
within the second, of the multicast arrival time is shown. This can be
useful for diagnosing late transmission, and hence arrival, of
multicast packets.</p>
</div>
<div class="paragraph">
<p>Generally speaking if the centiseconds is less than 20, the packet
from the previous second was <em>late</em>. Usually in that case the packet
arrives after the display updates. Data from the previous packet is
displayed again, with the <code>Time</code> value in inverse video because it has
not changed. In the update for the <em>next</em> second, the data from the
late packet is displayed with the low value for the arrival time. The
displayed <code>Time</code> from the packet and <code>DBBC3-FS</code> values are increased
by one to account for when the packet did arrive. The packet that
should have arrived in that second is lost and a multicast time-out
occurs. Apparently the previous packet transmission overran the DBBC3
1 PPS, preventing the transmission of the next packet. The <code>Time</code>
value will not be inverse again for the missing packet since the late
packet was displayed instead.</p>
</div>
<div class="paragraph">
<p>The arrival time before which a packet is considered being late (from
the previous second) in <em>monit7</em> can be adjusted with the new command
line switch <code>-l</code>.</p>
</div>
<div class="paragraph">
<p>The VDIF epoch field will be re-added when it becomes available in the
multicast.</p>
</div>
</li>
<li>
<p>The background color for negative T<sub>sys</sub> values was changed to
inverse video.</p>
<div class="paragraph">
<p>Except for clipped (and auto-reset) values, all negative values,
including out-of-range (dollar signs, <code>$$$$$</code>), are shown in
inverse video to highlight that the polarity is wrong without the
somewhat extreme magenta color used in <em>10.1-beta1</em>. Clipped (and
auto-reset) values include a sign.</p>
</div>
</li>
<li>
<p>For filtering, invalid values and T<sub>sys</sub> values outside the range
1000 are ignored completely instead of being included in the
clipped count.</p>
</li>
<li>
<p>New invalid values, also shown with a cyan background, were added:</p>
<div class="ulist disc">
<ul class="disc">
<li>
<p>&#8220;on&#8221; TPI value is zero&#8201;&#8212;&#8201;This is shown as <code>&#160;on=0</code>. It occurs
when the DBBC3 is configured for legacy calibration with polarity <code>2</code>
and the FS is expecting continuous cal.</p>
</li>
<li>
<p>&#8220;on`&#8221; and &#8220;off&#8221; TPI values are both zero&#8201;&#8212;&#8201;This is shown as
<code>tpi=0</code>.  It may happen when the firmware is being loaded/reloaded</p>
</li>
</ul>
</div>
</li>
<li>
<p>Change the foreground colors for cyan, green, yellow, red, and blue
backgrounds.</p>
<div class="paragraph">
<p>The foreground color for cyan, green, and yellow background is black;
red and blue, white. It was felt that these combinations were the
easiest to read.</p>
</div>
<div class="paragraph">
<p>For certain reverse video terminals, the white and black foreground
colors are swapped for cyan, green, yellow, red, and blue. For
example, this happens if <em>xterm</em> is run with the <code>-rv</code> command line
option and the normal FS <code>black</code>/<code>linen</code> settings for
foreground/background are in use. To get the unswapped foreground
colors, you can use the new <code>-r</code> command line option with <em>monit7</em>.
Unfortunately, it is not possible for <em>monit7</em> to detect the need for
this automatically.</p>
</div>
</li>
<li>
<p>Prevent inadvertent escape sequences from causing <em>monit7</em> from
terminating (closing <a href="https://github.com/nvi-inc/fs/issues/204">#204</a>).</p>
<div class="paragraph">
<p>Pressing a desktop key combination that generates an escape sequence,
such as <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>&downarrow;</kbd></span>, when <em>monit7</em> had the focus would
cause it to terminate. To prevent this, use of <kbd>Esc</kbd> to terminate
was removed. To prevent other characters in the escape sequence from
being treated as <em>monit7</em> commands, they are filtered according to
&#8220;CSI sequences&#8221; at (<a href="https://en.wikipedia.org/wiki/ANSI_escape_code" class="bare">https://en.wikipedia.org/wiki/ANSI_escape_code</a>).
If an out-of-order byte is received, processing of the escape sequence
is terminated and the byte is treated as a new input, either another
escape sequence or a command. This effectively filters out the user
pressing <kbd>Esc</kbd>, or key combinations that generate escape
sequences, possibly more than once in a row or using automatic repeat.</p>
</div>
<div class="paragraph">
<p>Thanks to Jon Quick (HartRAO) for reporting this issue and testing the
fix.</p>
</div>
</li>
<li>
<p>Always clear BBC T<sub>sys</sub> fields that aren&#8217;t being displayed in
<em>monit7</em>.</p>
<div class="paragraph">
<p>In certain cases when changing modes, such as when a particular IF was
selected before <code>Def</code> or <code>Rec</code> came into effect, some old non-blank
fields were not cleared when they should have been.</p>
</div>
</li>
<li>
<p>Correct mode selecting not working if an IF was selected before
<code>Def</code> or <code>Rec</code> mode started.</p>
<div class="paragraph">
<p>Now normal mode switching is always available.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</details>
</li>
<li>
<p>Restore DBBC sync prompt for DBBC/Mark5B in <em>fmset</em> (closing
<a href="https://github.com/nvi-inc/fs/issues/207">#207</a>).</p>
<div class="paragraph">
<p>When syncing the Mark 5B, prompting to sync the DBBC first was
restored. This had been lost in the merge of the VGOS branch, commit
<code>224cc218b7519c300c11c59aea6391a6da3b122b</code>.</p>
</div>
<div class="paragraph">
<p>Thanks to Jon Quick (HartRAO) for testing this fix.</p>
</div>
</li>
<li>
<p>Refactor display of RDBE multicast data in the RDBE monitor window
(<em>monit6</em>).</p>
<div class="paragraph">
<p>This eliminates have the DOT time flash in the RDBE monitor display
(<em>monit6</em>) when the attenuators are adjusted.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="paragraph">
<p>Adding the feature, in FS <em>10.1</em>, of using inverse video for an
incorrect RDBE DOT time had the inadvertent side effect of causing the
DOT time to flash inverse sometimes when the RDBE attenuators were
adjusted. This was apparently caused by the attenuator adjustment
delaying the multicast enough to arrive after the RDBE monitor display
(<em>monit6</em>) had updated. Thus the previous second time was displayed
and in inverse video because it was wrong.</p>
</div>
<div class="paragraph">
<p>This was fixed by recording the time of the multicast message arrival
and using that to decide if the RDBE time is correct. The display
update time was moved to the next integer second for consistency. The
displayed time is incremented by one second so it will agree with
other displayed times, the System Status monitor (<em>monit2</em>) in
particular. As a result, the oddness/evenness of the time no longer
agrees with that of the IF being displayed. The <em>monit6</em> updates are
now better synchronized with the <em>monit2</em> updates, instead of being
about 200 milliseconds later.</p>
</div>
<div class="paragraph">
<p>Thanks to Kiah Imai (KPGO) for reporting the interaction with setting
the attenuators.</p>
</div>
</div>
</details>
</li>
<li>
<p>Improve <em>onoff</em> for RDBEs.</p>
<div class="paragraph">
<p>Detectors for inactive RDBEs are now skipped. More useful messages are
provided for RDBE communication errors. The error handling was
simplified.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Skip detectors from inactive RDBE in <em>onoff</em>.</p>
<div class="paragraph">
<p>Previously, if an RDBE wasn&#8217;t defined, and therefore was <em>inactive</em> by
default, and detectors from it were selected in <em>onoff</em>, there would
be a fatal error when trying to communicate with the device. This has
been changed so that the detectors for the inactive device will
skipped with a warning message. This allows an existing setup for
<em>onoff</em> to still be useful if an RDBE is temporarily unavailable.
Which RDBEs are active can also be set, among those defined, with the
<em>active_rdbes</em> command.</p>
</div>
</li>
<li>
<p>Improve RDBE communication error reporting (closing
<a href="https://github.com/nvi-inc/fs/issues/209">#209</a>).</p>
<div class="paragraph">
<p>The error messages for RDBE communication errors in <em>onoff</em> are now
more informative.</p>
</div>
</li>
<li>
<p>Simplify error handling</p>
<div class="paragraph">
<p>The handling of errors was simplified. The reporting of overall errors
doesn&#8217;t use <code>ip[4]</code>. Consequently, it can be ignored.</p>
</div>
</li>
</ol>
</div>
</div>
</details>
</li>
<li>
<p>Accept <code>waiting</code> response from RDBE <code>dbe_data_send?</code> query in
<em>fmset</em>.</p>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="paragraph">
<p>When <em>fmset</em> queries the RDBE to see if data sending needs to be
turned off, a previously unexpected response, <code>waiting</code>, can occur.
This can apparently happen when the state is <code>off</code>. The code was
adjusted to take this into account. Also any other unexpected response
will now be displayed in the error when reporting the error.</p>
</div>
<div class="paragraph">
<p>Thanks to Russ McWhirter (Haystack) for explaining the <code>waiting</code>
response.</p>
</div>
</div>
</details>
</li>
<li>
<p>Add verbose option for <em>curl</em>/<em>wget</em> in <em>fesh</em> (closing
<a href="https://github.com/nvi-inc/fs/issues/201">#201</a>).</p>
<div class="paragraph">
<p>When the <code>-v</code> option is used in <em>fesh</em> verbose output is enabled to
for <em>curl</em> and <em>wget</em>. This can useful debugging connection issues.
The <code>-v</code> option still includes verbose output for <em>drudg</em>.</p>
</div>
<div class="paragraph">
<p>Thanks to Eskil Varenius (Onsala) for suggesting this.</p>
</div>
</li>
<li>
<p>Improve <em>plog</em></p>
<div class="paragraph">
<p>Two small fixes were made to the <code>-l</code> (&#8220;latest&#8221;) option and two to
the <code>-h</code> (&#8220;help&#8221;) option.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Correct description of the <code>-l</code> option in the <code>plog -h</code> output
(closing <a href="https://github.com/nvi-inc/fs/issues/203">#203</a>).</p>
<div class="paragraph">
<p>The <code>-l</code> (for &#8220;latest&#8221;) option, will use the latest log that ends
with the station&#8217;s two letter code and does not contain either <em>point</em>
or <em>station</em>.</p>
</div>
<div class="paragraph">
<p>Thanks to Eskil Varenius (Onsala) for helping clarify this.</p>
</div>
</li>
<li>
<p>Add error message for no matching log found for the <code>-l</code> option in
<em>plog</em>.</p>
<div class="paragraph">
<p>The previous message was not informative.</p>
</div>
</li>
<li>
<p>Ignore certain log files for the <code>-l</code> option.</p>
<div class="paragraph">
<p>Log file names that only consist of the station code are excluded.
<em>_full.log</em> files are not accepted if the station code is <code>ll</code>
unless <em>ll</em> immediately precedes <em>_full.log</em> in the file name.</p>
</div>
</li>
<li>
<p>Fix <code>-h</code> to work if the <code>STATION</code> environment variable is not set.</p>
<div class="paragraph">
<p>This was overlooked in FS <em>10.1</em>.</p>
</div>
</li>
</ol>
</div>
</div>
</details>
</li>
<li>
<p>Rename <em>xresouresfix</em> script to the correct <em>xresourcesfix</em>.</p>
</li>
<li>
<p>Add missing <code>10.2.0-beta1</code> tag.</p>
<div class="paragraph">
<p>Thanks to Rubn Gonzlez (Ny-lesund) for reporting this.</p>
</div>
</li>
<li>
<p>Improve documentation</p>
<div class="paragraph">
<p>How the feature release update documents are titled was changed. The
DBBC3 Operations manual was improved. Several other changes were made.</p>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the naming scheme for feature releases documents and
references.</p>
<div class="paragraph">
<p>The patch level (<em>.0</em>) is now omitted in the file names and references
for feature releases.</p>
</div>
<div class="paragraph">
<p>This makes the document consistent for use with later patches without
having to rename, or generate almost completely redundant, documents
for the patches. The document will be updated for the patches, i.e.,
the new tag and any documentation fixes. Not having to rename allows
the old link to still work. Thus users who update to a feature release
after patches have been released can use the original link. Brief
explanatory update documents, e.g, &#8220;10.2.1 Update Notes&#8221;, will still
be provided for users applying patches. Previous feature releases are
referred to without the patch level. For feature releases that have
not had their documents renamed for this approach, the patch level is
included in the anchor text for the link to be consistent. The feature
release <em>tag</em> still includes the <code>.0</code> patch level.</p>
</div>
<div class="paragraph">
<p>This change is implemented as of FS <em>10.2-beta2</em>. A symbolic link was
added so that existing URLs for <em>10.2.0-beta1.html</em> will be redirected
to <em>10.2-beta1.html</em>. The documents for previous feature releases
(<em>10.0</em> and <em>10.1</em>) may be updated to follow this pattern if there is
a need.</p>
</div>
</li>
<li>
<p>Add steps to remove temporary fixes for <em>10.1</em> and <em>10.2</em> updates.</p>
<div class="paragraph">
<p>There were some temporary fixes provided to stations, without
releasing patches, to deal with various issues. The programs affected
were <em>fesh</em> and <em>plog</em> for data center changes, as well as <em>rdbemsg</em>.
Instructions to remove the versions were added as a reminder to switch
back to using the new standard versions, which include all the fixes.</p>
</div>
</li>
<li>
<p>Improve <em>10.2-beta1</em> update notes.</p>
<div class="paragraph">
<p>Cleanup the document, fixing many typos and reorganizing a little.</p>
</div>
<div class="paragraph">
<p>Thanks to Jon Quick (HartRAO) for helpful feedback.</p>
</div>
</li>
<li>
<p>Improve &#8220;FS DBBC3 Operations Manual.&#8221;</p>
<div class="paragraph">
<p>In addition to including other changes in this document, several other
improvements were made.</p>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Move information on multicast time-outs to a new section and
expand the description.</p>
</li>
<li>
<p>Describe how multicast message arrival time is logged.</p>
</li>
<li>
<p>Describe <em>monit7</em> data being stale if there is a multicast
time-out.</p>
</li>
<li>
<p>Improve description of <code>Time</code> field in <em>monit7</em></p>
</li>
<li>
<p>Add more detail on T<sub>sys</sub> logging</p>
</li>
<li>
<p>Improve description of setup for using <em>setcl</em> to set FS time.</p>
</li>
<li>
<p>Improve the description of trouble-shooting continuous calibration
problems.</p>
</li>
<li>
<p>Add more <strong>NOTE</strong>s for changes from <em>10.1</em>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Remove redundant &#8220;Review changes&#8221; section in <em>10.1</em> and <em>10.2</em>
update notes.</p>
</li>
<li>
<p>Fix organization of the &#8220;Fetch&#8221; step in the <em>10.1</em> update notes.</p>
</li>
<li>
<p>Improve instructions in <em>making_gh-pages.txt</em>.</p>
<div class="ulist disc">
<ul class="disc">
<li>
<p>Don&#8217;t <code>add</code> <em>.adoc</em> files, that should have already been done</p>
</li>
<li>
<p>Don&#8217;t delete <em>.html</em> files, we don&#8217;t want to delete symbolic links</p>
</li>
<li>
<p>Don&#8217;t commit and push, that should already be done or the workflow
is different anyway</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix various typos and broken links.</p>
</li>
</ol>
</div>
</div>
</details>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_drudg_changes">3.2. drudg changes</h3>
<div class="paragraph">
<p><em>drudg</em> opening message date is <code>2023-02-21</code>.</p>
</div>
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-11 09:12:53 -0400
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>